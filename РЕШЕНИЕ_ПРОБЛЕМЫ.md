# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å GitHub CI Publish

## ‚ùì –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–í–æ–ø—Ä–æ—Å:** "–î–ê –¢–û–õ–¨–ö–û –ü–û–ß–ï–ú–£ PUBLISH –ù–ï –†–ê–ë–û–¢–ê–ï–¢ –ù–ê –ì–ò–¢–•–ê–ë CI, –ó–ê–ü–£–°–¢–ò–õ–°–Ø –¢–û–õ–¨–ö–û –¢–ï–°–¢ YML"

## üîç –ê–Ω–∞–ª–∏–∑

### –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

**–§–∞–π–ª `test.yml`:**

```yaml
on:
  push:
    branches: [ main, develop ]  # ‚úÖ –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º push
```

**–§–∞–π–ª `publish.yml`:**

```yaml
on:
  push:
    tags:
      - 'v*'  # ‚ö†Ô∏è –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –ø—Ä–∏ push –¢–ï–ì–û–í!
```

**–í—ã–≤–æ–¥:** `publish.yml` –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –¥–µ–ª–∞–ª–∏ –æ–±—ã—á–Ω—ã–π `git push`, –∞ –Ω—É–∂–Ω–æ –±—ã–ª–æ `git push origin v1.0.0` (
–ø—É—à–∏—Ç—å —Ç–µ–≥).

---

### –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ2: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ID –ø–ª–∞–≥–∏–Ω–∞ –∏ package name

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:**

```
Plugin descriptor for plugin ID 'com.nzr.impact-analysis' specifies a plugin
class 'com.nzr.impact_analysis.ImpactAnalysisPlugin' that is not present in the jar file
```

**–ü—Ä–∏—á–∏–Ω–∞:** Gradle Plugin Portal –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–µ—Ñ–∏—Å—ã –≤ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è:

- ID –ø–ª–∞–≥–∏–Ω–∞: `com.nzr.impact-analysis`
- Gradle –∏—Å–∫–∞–ª –∫–ª–∞—Å—Å –≤: `com.nzr.impact_analysis.ImpactAnalysisPlugin`
- –ö–ª–∞—Å—Å —Ä–µ–∞–ª—å–Ω–æ –±—ã–ª –≤: `com.nzr.impactanalysis.ImpactAnalysisPlugin`

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å –¥–µ—Ñ–∏—Å –∏–∑ ID:

```kotlin
// –ë—ã–ª–æ
id = "com.nzr.impact-analysis"

// –°—Ç–∞–ª–æ
id = "com.nzr.impactanalysis"
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ ‚Ññ3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ API –∫–ª—é—á–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ç–æ—Ä–æ–π –ø–æ–ø—ã—Ç–∫–µ:**

```
Missing publishing keys. Please set gradle.publish.key/gradle.publish.secret
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã GitHub Secrets –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Gradle Plugin Portal.

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏ –Ω–∞ https://plugins.gradle.org/u/me
2. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub: `GRADLE_PUBLISH_KEY` –∏ `GRADLE_PUBLISH_SECRET`
3. –ò–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `if: false`

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω ID –ø–ª–∞–≥–∏–Ω–∞

**–§–∞–π–ª: `build.gradle.kts`**

```kotlin
// –î–æ
group = "com.nzr.impact-analysis"
plugins {
    create("impactAnalysisPlugin") {
        id = "com.nzr.impact-analysis"  // ‚ùå –î–µ—Ñ–∏—Å
    }
}

// –ü–æ—Å–ª–µ
group = "com.nzr.impactanalysis"
plugins {
    create("impactAnalysisPlugin") {
        id = "com.nzr.impactanalysis"  // ‚úÖ –ë–µ–∑ –¥–µ—Ñ–∏ÔøΩÔøΩ–∞
    }
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω README.md

```kotlin
// –î–æ
id("com.nzr.impact-analysis") version "1.0.1"

// –ü–æ—Å–ª–µ
id("com.nzr.impactanalysis") version "1.0.1"
```

### 3. –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ Portal

**–§–∞–π–ª: `.github/workflows/publish.yml`**

```yaml
- name: Publish to Gradle Plugin Portal
  if: false  # ‚úÖ –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤
  env:
    GRADLE_PUBLISH_KEY: ${{ secrets.GRADLE_PUBLISH_KEY }}
    GRADLE_PUBLISH_SECRET: ${{ secrets.GRADLE_PUBLISH_SECRET }}
  run: ./gradlew publishPlugins
```

–¢–µ–ø–µ—Ä—å workflow –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã, —Å–æ–±—Ä–∞—Ç—å JAR –∏ —Å–æ–∑–¥–∞—Ç—å GitHub Release, –Ω–æ –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è
–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ Portal.

### 4. –°–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã —Ç–µ–≥–∏

```bash
git tag -a v1.0.1 -m "Release v1.0.1"
git push origin v1.0.1

git tag -a v1.0.2 -m "Release v1.0.2"
git push origin v1.0.2

git tag -a v1.0.3 -m "Release v1.0.3"
git push origin v1.0.3
```

### 5. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`PUBLISH_SETUP.md`** - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- **`CURRENT_STATUS.md`** - —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- **`–†–ï–®–ï–ù–ò–ï_–ü–†–û–ë–õ–ï–ú–´.md`** - —ç—Ç–æ—Ç —Ñ–∞–π–ª —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

---

## üéØ –¢–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **test.yml** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push –≤ main/develop
2. **publish.yml** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ push —Ç–µ–≥–æ–≤ v*
3. **Build** - –ø–ª–∞–≥–∏–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
4. **Tests** - –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
5. **GitHub Release** - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ push —Ç–µ–≥–∞

### ‚è≥ –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ https://plugins.gradle.org/
2. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á–∏
3. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:
    - `GRADLE_PUBLISH_KEY`
    - `GRADLE_PUBLISH_SECRET`
4. –í —Ñ–∞–π–ª–µ `.github/workflows/publish.yml` –∏–∑–º–µ–Ω–∏—Ç—å `if: false` –Ω–∞ `if: true`
5. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

---

## üìö –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é

**–§–∞–π–ª: `build.gradle.kts`**

```kotlin
version = "1.0.4"  // –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏—é
```

### –®–∞–≥ 2: –ö–æ–º–º–∏—Ç –∏ push

```bash
git add build.gradle.kts
git commit -m "chore: bump version to 1.0.4"
git push origin main
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å —Ç–µ–≥

```bash
git tag -a v1.0.4 -m "Release v1.0.4 - Description of changes"
git push origin v1.0.4
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

1. **GitHub Actions**: https://github.com/haizerdev/Impact-analysis-gradle-plugin/actions
2. **GitHub Releases**: https://github.com/haizerdev/Impact-analysis-gradle-plugin/releases
3. **Gradle Plugin Portal** (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏): https://plugins.gradle.org/plugin/com.nzr.impactanalysis

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **test.yml** –∏ **publish.yml** –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:
    - test.yml ‚Üí push –≤ –≤–µ—Ç–∫–∏
    - publish.yml ‚Üí push —Ç–µ–≥–æ–≤

2. **ID –ø–ª–∞–≥–∏–Ω–∞** –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å package name (–±–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤)

3. **–¢–µ–≥–∏** –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `v*` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`)

4. **–°–µ–∫—Ä–µ—Ç—ã** –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ Gradle Plugin Portal, –Ω–æ –Ω–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è GitHub Release

5. **Workflow** –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `if: false`

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**: [PUBLISH_SETUP.md](PUBLISH_SETUP.md)
- **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: [CURRENT_STATUS.md](CURRENT_STATUS.md)
- **GitHub Actions**: https://github.com/haizerdev/Impact-analysis-gradle-plugin/actions
- **Gradle Plugin Portal**: https://plugins.gradle.org/
- **API Keys**: https://plugins.gradle.org/u/me

---

## ‚úÖ –°—Ç–∞—Ç—É—Å: –†–ï–®–ï–ù–û

–í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–µ–π Gradle Plugin Portal.

**–°–æ–∑–¥–∞–Ω–æ:** 2025-01-XX  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0.3
